!function(){"use strict";avm.define("navigation-oo-19798",function(){function a(a,c){if("reset"===a)return j.removeClass("blogs-special-menu"),void(A?j.removeClass("first-menu-regions"):j.addClass("navigation-closed"));"toggle"===a&&j.toggleClass(c),D.firstMenu&&j.addClass(D.firstMenu),D.secondMenu&&j.addClass(D.secondMenu),"open_blogs_special_menu"===a?(A||(b(),j.toggleClass("blogs-special-menu")),j.addClass(D.firstMenu)):j.removeClass("blogs-special-menu")}function b(){D.firstMenu=!1,j.removeClass(t.join(" "))}function c(){D.secondMenu=!1,j.removeClass(u.join(" "))}function d(a){var b="navigation-regions-"+a,c=j.attr("class").split(" ");if(c.indexOf(b)>-1)return void j.removeClass(b);for(var d=0;d<c.length;d++)c[d].indexOf("navigation-regions-")>-1&&j.removeClass(c[d]);j.addClass(b)}function e(b,d){var e=D.secondMenu,g="second-menu-"+b.data("second-menu");if(A)c();else if(e.split(" ").length>1)return e.indexOf(g)>-1?D.secondMenu=f(e.replace(g,"")):D.secondMenu=f(e+" "+g),void a("toggle",g);g!==e&&(D.secondMenu=g),a()}function f(a){var b=a.split(" "),c=[];return b.map(function(a){""!==a&&c.push(a)}),c.join(" ")}var g=avm.require("jquery"),h=avm.require("avast.url.unserialize"),i=(avm.require("avast.url.unserialize"),g(window)),j=g("body"),k=g(".js-navigation-oo-19798"),l=k.find("[data-first-menu]"),m=k.find("[data-second-menu]"),n=k.find(".js-back"),o=k.find(".js-toggle-menu"),p=k.find(".js-regions"),q=k.find(".js-regions-toggle"),r=k.find(".js-search-toggler"),s=g(".search-input"),t=["first-menu-for-home","first-menu-for-business","first-menu-for-partners","first-menu-about-us","first-menu-regions"],u=["second-menu-security","second-menu-privacy","second-menu-performance","second-menu-family","second-menu-bundles","second-menu-products","second-menu-press-center","second-menu-investors","second-menu-business-partners","second-menu-resources","second-menu-login"],v=k.find(".js-blogs"),w=k.find(".second-menu.blogs"),x=k.find(".js-hint-toggler"),y=k.find(".js-hint-close"),z=function(){return window.getComputedStyle?window.getComputedStyle(document.body,":before").getPropertyValue("content"):""}(),A=z.indexOf("navigation-desktop")>-1,B="undefined"!=typeof window.avastGlobals&&"undefined"!=typeof window.avastGlobals.web,C=!!B&&window.avastGlobals.web.domain.split("/").length>1,D={firstMenu:!1,secondMenu:!1};return A&&(j.addClass("navigation-for-desktop"),function(){function a(a){function d(){f=!1,b(a)}if(f){var e=a.attr("href"),h=c(e);if(C&&"/"===e.split("")[0]&&(e="/"+e.split("/").splice(2).join("/")),void 0!==h&&e.split("?")[0]===i&&!g.isEmptyObject(l))for(var j in h)if("undefined"!=typeof l[j]&&l[j]===h[j])return d(),!1;if(i===e)return d(),!1}}function b(a){var b=a.closest(".second-menu"),c=a.closest("[data-second-menu]"),d=b.attr("class").split(" "),e=["for-home","for-business","for-partners","about-us"],f=!1;g(d).each(function(){if(e.indexOf(this)>-1)return D.firstMenu="first-menu-"+this,f=!0,c.length>0&&c.addClass("isActive"),a.parent().addClass("isActive"),!1}),f||(D.firstMenu="first-menu-for-home"),j.addClass(D.firstMenu)}function c(a){var b;return b=a.split("#")[0],b=a.split("?")[1],void 0!==b?h(b):undefined}var d,e=k.find('.second-menu:not(".regions") a'),f=!0,i=window.location.pathname,l=h(window.location.search),m="";B&&(m=window.avastGlobals.web.ulocale.replace("/",""),d=m.length>0?"/":"",i="/"+m+d+window.avastGlobals.web.fileName),e.each(function(){a(g(this))}),!f||"www"!==window.location.hostname.substr(0,3)&&"web"!==window.location.hostname.substr(0,3)||(D.firstMenu="first-menu-for-home",j.addClass(D.firstMenu)),"press.avast.com"===window.location.hostname&&(D.firstMenu="first-menu-about-us",j.addClass(D.firstMenu)),"press.avast.com"===window.location.hostname&&g("li[data-second-menu='press-center']").addClass("isActive"),"blog.avast.com"===window.location.hostname&&(D.secondMenu="second-menu blog",j.addClass(D.secondMenu)),"blog.avast.com"===window.location.hostname&&g("div.second-menu.blog").addClass("isActive"),"blog.avast.com"===window.location.hostname&&g("li.js-blogs.blogs").addClass("isActive")}(),function(){m.on("mouseover",function(){e(g(this))}),m.on("mouseout",c)}(),v.on("mouseenter",function(){a("open_blogs_special_menu"),j.addClass("blogs-special-menu"),j.removeClass("first-menu-regions")}),w.on("mouseleave",function(){a("reset")})),function(){r.on("click",function(){j.toggleClass("navigation-search-opened"),s.focus()})}(),function(){var a=avm.require("avast.detect")().os;j.addClass("platform-"+a.name.toLowerCase())}(),A||(!function(){x.on("click",function(){g(this).closest(".js-hint").addClass("show-hint")}),y.on("click",function(){g(this).closest(".js-hint").removeClass("show-hint")})}(),function(){var b=["second-menu-security","second-menu-privacy","second-menu-performance","second-menu-family","second-menu-bundles","second-menu-products","second-menu-press-center","second-menu-investors","second-menu-business-partners","second-menu-resources"].join(" ");D.secondMenu=b,a()}(),j.addClass("navigation-for-mobile"),j.addClass("navigation-closed"),l.on("click",function(){var c=g(this),d=D.firstMenu,e="first-menu-"+c.data("first-menu");b(),e!==d&&(D.firstMenu=e),a()}),m.on("click",function(a){g(a.target).attr("class").indexOf("hint")>-1||e(g(this),a)}),v.on("click",function(){a("open_blogs_special_menu")})),i.on("click",function(b){var c=g(b.target);c.closest(k).length>0?!A&&c.is(k)&&a("reset"):c.is(".js-cookie-bar")||c.closest(".js-cookie-bar").length>0||a("reset")}),n.on("click",function(){b(),g(this).hasClass("js-blog")&&j.removeClass("blogs-special-menu")}),o.on("click",function(){j.toggleClass("navigation-closed")}),A?l.on("click",function(){"regions"===g(this).data("first-menu")&&(j.removeClass("blogs-special-menu"),j.toggleClass("first-menu-regions"))}):q.on("click",function(){var a=g(this),b=a.next(".js-regions"),c=b.hasClass("mobile-hide");p.addClass("mobile-hide"),c&&b.removeClass("mobile-hide"),d(q.index(a))}),{}}())}();
