"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function storageAvailable(a){var b=void 0;try{b=window[a];var c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(d){return d instanceof DOMException&&(22===d.code||1014===d.code||"QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&0!==b.length}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),debug=function(){var a=["log","error","warn","info"],b={};return a.forEach(function(a){b[a]=window.console[a]}),function(c){c?(window.cl=function(a){return console.log(a),a},a.forEach(function(a){window.console[a]=b[a]})):a.forEach(function(a){window.console[a]=function(){return undefined}})}}(),Helpers={rnd:function(a,b,c){var d=void 0;do{d=Math.floor(Math.random()*(b-a+1))+a}while(void 0!==c&&c===d);return d},shuffle:function(a){for(var b=a.length;b>0;){var c=Math.floor(Math.random()*b--),d=a[b];a[b]=a[c],a[c]=d}return a},choose:function(a){return a.length?a[Math.floor(Math.random()*a.length)]:null},randomSign:function(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:1)*(Math.random()<.5?1:-1)},negativeSign:function(a){return a>0?-1:1},frac:function(a){return a-Math.floor(a)},distX:function(a,b){return Math.cos(b)*a},distY:function(a,b){return-Math.sin(b)*a},sign:function(a){return 0==+a||isNaN(+a)?Number(a):a>0?1:-1},mod:function(a,b){return(a%b+b)%b},reduceNumber:function(a,b,c){return a?b(Helpers.reduceNumber(--a,b,c),a):c},getURLParameter:function(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},getZeroInt:function(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;return Helpers.reduceNumber(Math.max(0,b-(""+a).length),function(a){return"0"+a},""+a)}},PRIORITYQUEUE_DEFAULT_PRIORITY=0,PriorityQueue=function(){function a(b){_classCallCheck(this,a),this._comparator=b||function(a,b){return a-b},this._priorities=[],this._queues={},this._callbacks={onBeforeTransform:[],onBeforeAdd:[],onAfterAdd:[],onBeforeRemove:[],onAfterRemove:[]},this._flags={dirty:!1},this._cachedQueues=[],this._privateCallbacks={onBeforeAdd:[]},this._transformers=null,this.length=0}return _createClass(a,[{key:"add",value:function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return"function"==typeof b&&(b=b()),"number"!=typeof b&&(b=PRIORITYQUEUE_DEFAULT_PRIORITY),null!==this._transformers&&this._callbacks.onBeforeTransform.every(function(c){return!1!==c.apply(undefined,[a,b].concat(d))})&&(a=this._transformers.getAll().reduce(function(a,c){return c.apply(undefined,[a,b].concat(d))},a)),this._privateCallbacks.onBeforeAdd.forEach(function(c){return c.apply(undefined,[a,b].concat(d))}),this._callbacks.onBeforeAdd.every(function(c){return!1!==c.apply(undefined,[a,b].concat(d))})?(this._getQueue(b,!0).push(a),this.length++,this._callbacks.onAfterAdd.forEach(function(c){return c.apply(undefined,[a,b].concat(d))}),this._flags.dirty=!0,a):undefined}},{key:"remove",value:function(a){var b=this;return this._callbacks.onBeforeRemove.every(function(b){return!1!==b(a)})&&(this.length=this._priorities.reduce(function(c,d){return c+b._setQueue(d,b._getQueue(d).filter(function(b){return b!==a})).length},0),this._callbacks.onAfterRemove.forEach(function(b){return b(a)})),this}},{key:"setPriority",value:function(a,b){return this.remove(a).add(a,b),this._flags.dirty=!0,this}},{key:"reassignPriority",value:function(a,b){return-1!==this._priorities.indexOf(a)&&(-1===this._priorities.indexOf(b)?(this._priorities.push(b),this._priorities.sort(this._comparator),this._setQueue(b,this._getQueue(a))):this._setQueue(b,this._getQueue(b).concat(this._getQueue(a))),this._priorities.splice(this._priorities.indexOf(a),1)),this}},{key:"getAll",value:function(a){var b=this;return"number"==typeof a?this._getQueue(a):(this._flags.dirty&&(this._cachedQueues=this._priorities.reduce(function(a,c){return a.concat(b._getQueue(c))},[]),this._flags.dirty=!1),this._cachedQueues)}},{key:"getHighestPriority",value:function(){return this._priorities.length?this._priorities[0]:PRIORITYQUEUE_DEFAULT_PRIORITY}},{key:"getLowestPriority",value:function(){return this._priorities.length?this._priorities[this._priorities.length-1]:PRIORITYQUEUE_DEFAULT_PRIORITY}},{key:"onBeforeTransform",value:function(a){return this._callbacks.onBeforeTransform.push(a),this}},{key:"onBeforeAdd",value:function(a){return this._callbacks.onBeforeAdd.push(a),this}},{key:"onAfterAdd",value:function(a){return this._callbacks.onAfterAdd.push(a),this}},{key:"onBeforeRemove",value:function(a){return this._callbacks.onBeforeRemove.push(a),this}},{key:"onAfterRemove",value:function(a){return this._callbacks.onAfterRemove.push(a),this}},{key:"addTransformer",value:function(a,b){return null===this._transformers&&(this._transformers=new CallbackQueue),this._transformers.add(a,b),this}},{key:"_getQueue",value:function(a){var b=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(-1===this._priorities.indexOf(a)){if(!b)return[];this._priorities.push(a),this._priorities.sort(this._comparator),this._setQueue(a,[])}return this._queues[a]}},{key:"_setQueue",value:function(a,b){return this._flags.dirty=!0,this._queues[a]=b}}]),a}(),CallbackQueue=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c._privateCallbacks.onBeforeAdd.push(b._typeCheck),c}return _inherits(b,a),_createClass(b,[{key:"fire",value:function(){if(this.length){var a=arguments;this.getAll().forEach(function(b){return b.apply(undefined,a)})}return this}}],[{key:"_typeCheck",value:function(a){if("function"!=typeof a)throw new TypeError("Only functions can be added to CallbackQueue.")}}]),b}(PriorityQueue),LazyProps={create:function(a,b){var c={};return Object.keys(a).filter(function(b){return a.hasOwnProperty(b)}).forEach(function(d){Object.defineProperty(c,d,{configurable:!0,enumerable:!0,get:function(){Object.defineProperty(this,d,{configurable:!0,enumerable:!0,writable:!0});var c=a[d].call(b);return Object.defineProperty(this,d,{configurable:!0,enumerable:!0,writable:!0,value:c}),c},set:function(a){return Object.defineProperty(this,d,{configurable:!0,enumerable:!0,writable:!0,value:a}),a}})}),c}},W_DEFAULT_DEBOUNCE_TIME=300,W_DEFAULT_KEYBOARD_PARAM=-1,WebPage=function(){function a(){var b=this;_classCallCheck(this,a),this.callbacks=LazyProps.create({init:function(){return new CallbackQueue},scroll:function(){return LazyProps.create({general:b._scrollCallbackQueueFactory,start:b._scrollCallbackQueueFactory,active:b._scrollCallbackQueueFactory,end:b._scrollCallbackQueueFactory},b)},resize:function(){return LazyProps.create({general:b._resizeCallbackQueueFactory,width:function(){return LazyProps.create({start:b._resizeCallbackQueueFactory,active:b._resizeCallbackQueueFactory,end:b._resizeCallbackQueueFactory},b)},height:function(){return LazyProps.create({start:b._resizeCallbackQueueFactory,active:b._resizeCallbackQueueFactory,end:b._resizeCallbackQueueFactory},b)},start:b._resizeCallbackQueueFactory,active:b._resizeCallbackQueueFactory,end:b._resizeCallbackQueueFactory},b)},layout:function(){return new CallbackQueue},layoutGroup:function(){return new CallbackQueue},visibility:function(){return new CallbackQueue},keyboard:this._keyUpCallbackQueueFactory},this),this.handlerNames={INIT:"initHandler",RESIZE:"resizeHandler",RESIZE_START:"resizeStartHandler",RESIZE_ACTIVE:"resizeActiveHandler",RESIZE_END:"resizeEndHandler",RESIZE_WIDTH_START:"resizeWidthStartHandler",RESIZE_WIDTH_ACTIVE:"resizeWidthActiveHandler",RESIZE_WIDTH_END:"resizeWidthEndHandler",RESIZE_HEIGHT_START:"resizeHeightStartHandler",RESIZE_HEIGHT_ACTIVE:"resizeHeightActiveHandler",RESIZE_HEIGHT_END:"resizeHeightEndHandler",LAYOUT:"layoutHandler",LAYOUT_GROUP:"layoutGroupHandler",SCROLL:"scrollHandler",SCROLL_START:"scrollStartHandler",SCROLL_ACTIVE:"scrollActiveHandler",SCROLL_END:"scrollEndHandler",VISIBILITY:"visibilityHandler",KEYBOARD:/keyboard(?:\[(\d+)(?:,(\d+))*])?Handler/},this.isInitialized=!1,this.canHandleVisibilityChange="undefined"!=typeof document.hidden&&!!document.addEventListener,this.$html=$("html"),this.$body=$("body"),this.$document=$(document),this.$window=$(window),this.top=this.topLast=this.$window.scrollTop(),this.width=this.widthLast=this.$window.outerWidth(!0),this.height=this.heightLast=this.$window.outerHeight(),this.scrollDirection=0,this.layout=null,this.breakpoints=[{from:0,to:460,layout:"tiny",layoutGroup:"phone"},{from:461,to:600,layout:"phone",layoutGroup:"phone"},{from:601,to:900,layout:"tablet-portrait",layoutGroup:"tablet"},{from:901,to:1200,layout:"tablet-landscape",layoutGroup:"tablet"},{from:1201,to:1500,layout:"desktop",layoutGroup:"desktop"},{from:1501,to:1800,layout:"desktop-medium",layoutGroup:"desktop"},{from:1801,to:99999,layout:"desktop-large",layoutGroup:"desktop"}],this.layouts=this.breakpoints.map(function(a){return a.layout}),this.isRetina=window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3,this.isStatic=null,this.isWindowFocused=!0,this._flags={scrolling:!1,resizingWidth:!1,resizingHeight:!1,isScrollBound:!1,isResizeBound:!1,isKeyUpBound:!1},this._debounce={scrollTimeoutId:-1,resizeTimeoutId:-1,resizeWidthTimeoutId:-1,resizeHeightTimeoutId:-1},this.device={mobile:bowser.mobile||bowser.tablet,tablet:bowser.tablet,phone:bowser.mobile,ios:bowser.ios,os:null,osversion:bowser.osversion},this.browser={name:function(){switch(!0){case bowser.chrome:return"chrome";case bowser.safari:return"safari";case bowser.opera:return"opera";case bowser.mozilla:return"mozilla";case bowser.firefox:return"firefox";case bowser.msie:return"ms msie";case bowser.msedge:return"ms msedge"}}(),version:parseInt(bowser.version),webkit:bowser.webkit,gecko:bowser.gecko},this.isLayout={smallerThan:function(a){var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.layout;return b.layouts.indexOf(c)<b.layouts.indexOf(a)},smallerOrEqual:function(a){var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.layout;return b.layouts.indexOf(c)<=b.layouts.indexOf(a)},biggerThan:function(a){var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.layout;return b.layouts.indexOf(c)>b.layouts.indexOf(a)},biggerOrEqual:function(a){var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.layout;return b.layouts.indexOf(c)>=b.layouts.indexOf(a)}},this.$html.toggleClass("mobileos-android",!!bowser.android),this.$html.toggleClass("mobileos-ios",!!bowser.ios),this.$html.toggleClass("mobileos-wp",!!bowser.windowsphone),this.$html.addClass(this.browser.name),this.$html.addClass("v"+this.browser.version),this.$html.addClass(this.device.mobile?"mobileDevice":"non-mobileDevice"),this.$html.addClass(this.canHandleVisibilityChange?"visibilityChange":"non-visibilityChange")}return _createClass(a,[{key:"init",value:function(){this.canHandleVisibilityChange&&(this.isWindowFocused=!document.hidden,document.addEventListener("visibilitychange",this._visibilityHandler.bind(this))),this._getLayout(),this._debounce.isDisabled=!1,this.isInitialized=!0,this.callbacks.init.fire()}},{key:"autoHandle",value:function(a,b){var c=this;Object.keys(this.handlerNames).forEach(function(d){var e=c.handlerNames[d];if(e instanceof RegExp)Object.keys(a).forEach(function(d){var f=e.exec(d);if(f){var g=f.slice(1).filter(function(a){return a!==undefined});switch(e){case c.handlerNames.KEYBOARD:0===g.length&&(g=[W_DEFAULT_KEYBOARD_PARAM]),g.reduce(function(e,f){return e.concat(c.callbacks.keyboard.add(a[d].bind(a),b,+f))},[])}}});else{if("function"!=typeof a[e])return;switch(e){case c.handlerNames.NEAR_VIEW:var f=a.$element||a.$el;f instanceof jQuery&&(f=f[0]),c.callbacks.nearView.add(a[e].bind(a),b,f);break;default:c._getCallbackQueueForHandlerName(e).add(a[e].bind(a),b)}}})}},{key:"toggleFullscreen",value:function(a){var b=window.document,c=b.documentElement,d=c.requestFullscreen||c.mozRequestFullScreen||c.webkitRequestFullScreen||c.msRequestFullscreen,e=b.exitFullscreen||b.mozCancelFullScreen||b.webkitExitFullscreen||b.msExitFullscreen,f=!!(b.fullscreenElement||b.mozFullScreenElement||b.webkitFullscreenElement||b.msFullscreenElement);void 0===a&&(a=!f),a&&!f?d.call(c):!a&&f&&e.call(b)}},{key:"_resizeHandler",value:function(){var a=this;this.width=this.$window.outerWidth(!0),this.height=this.$window.outerHeight(),this._flags.resizingWidth||this._flags.resizingHeight||(this.callbacks.resize.general.fire(this.handlerNames.RESIZE_START),this.callbacks.resize.start.fire()),this.widthLast!==this.width&&(this._flags.resizingWidth||(this._flags.resizingWidth=!0,this.callbacks.resize.general.fire(this.handlerNames.RESIZE_WIDTH_START),this.callbacks.resize.width.start.fire()),this.callbacks.resize.general.fire(this.handlerNames.RESIZE_WIDTH_ACTIVE),this.callbacks.resize.width.active.fire(),clearTimeout(this._debounce.resizeWidthTimeoutId),this._debounce.resizeWidthTimeoutId=setTimeout(function(){a._getLayout(),a._flags.resizingWidth=!1,a.callbacks.resize.general.fire(a.handlerNames.RESIZE_WIDTH_END),a.callbacks.resize.width.end.fire()},W_DEFAULT_DEBOUNCE_TIME)),this.heightLast!==this.height&&(this._flags.resizingHeight||(this._flags.resizingHeight=!0,this.callbacks.resize.general.fire(this.handlerNames.RESIZE_HEIGHT_START),this.callbacks.resize.height.start.fire()),this.callbacks.resize.general.fire(this.handlerNames.RESIZE_HEIGHT_ACTIVE),this.callbacks.resize.height.active.fire(),clearTimeout(this._debounce.resizeHeightTimeoutId),this._debounce.resizeHeightTimeoutId=setTimeout(function(){a._getLayout(),a._flags.resizingHeight=!1,a.callbacks.resize.general.fire(a.handlerNames.RESIZE_HEIGHT_END),a.callbacks.resize.height.end.fire()},W_DEFAULT_DEBOUNCE_TIME)),this.callbacks.resize.general.fire(this.handlerNames.RESIZE_ACTIVE),this.callbacks.resize.active.fire(),clearTimeout(this._debounce.resizeTimeoutId),this._debounce.resizeTimeoutId=setTimeout(function(){a._getLayout(),a.callbacks.resize.general.fire(a.handlerNames.RESIZE_END),a.callbacks.resize.end.fire()},W_DEFAULT_DEBOUNCE_TIME),this.widthLast=this.width,this.heightLast=this.height}},{key:"_scrollHandler",value:function(){var a=this;this.top=this.$window.scrollTop(),this.scrollDirection=Helpers.sign(this.top-this.topLast),this._flags.scrolling||(this._flags.scrolling=!0,this.callbacks.resize.general.fire(this.handlerNames.SCROLL_START),this.callbacks.scroll.start.fire()),this.callbacks.resize.general.fire(this.handlerNames.SCROLL_ACTIVE),this.callbacks.scroll.active.fire(),clearTimeout(this._debounce.scrollTimeoutId),this._debounce.scrollTimeoutId=setTimeout(function(){a._flags.scrolling=!1,a.callbacks.scroll.general.fire(a.handlerNames.SCROLL_END),a.callbacks.scroll.end.fire()},W_DEFAULT_DEBOUNCE_TIME),this.topLast=this.top}},{key:"_keyUpHandler",value:function(a){this.callbacks.keyboard.fire(a)}},{key:"_visibilityHandler",value:function(){this.callbacks.visibility.fire(this.isWindowFocused=!document.hidden)}},{key:"_getLayout",value:function(){var a=this.layout,b=this.layoutGroup,c=this.breakpoints.find(function(a){return window.matchMedia("(min-width: "+a.from+"px) and (max-width: "+a.to+"px)").matches});c&&(this.layout=c.layout,this.layoutGroup=c.layoutGroup),a!==this.layout&&null!==this.layout&&this.callbacks.layout.fire(this.layout,a),b!==this.layoutGroup&&null!==this.layoutGroup&&this.callbacks.layoutGroup.fire(this.layoutGroup,b)}},{key:"_scrollCallbackQueueFactory",value:function(){var a=this,b=new CallbackQueue;return this._flags.isScrollBound||b.onAfterAdd(function(){a._flags.isScrollBound||(a._flags.isScrollBound=!0,a.$window.scroll(a._scrollHandler.bind(a)))}),b}},{key:"_resizeCallbackQueueFactory",value:function(){var a=this,b=new CallbackQueue;return this._flags.isResizeBound||b.onAfterAdd(function(){a._flags.isResizeBound||(a._flags.isResizeBound=!0,a.$window.resize(a._resizeHandler.bind(a)))}),b}},{key:"_keyUpCallbackQueueFactory",value:function(){var a=this,b=new CallbackQueue;return b.addTransformer(function(a,b,c){return function(b){c!==b.keyCode&&c!==W_DEFAULT_KEYBOARD_PARAM||a(b)}}),this._flags.isKeyUpBound||b.onAfterAdd(function(){a._flags.isKeyUpBound||(a._flags.isKeyUpBound=!0,a.$document.keyup(a._keyUpHandler.bind(a)))}),b}},{key:"_getCallbackQueueForHandlerName",value:function(a){switch(a){case this.handlerNames.INIT:return this.callbacks.init;case this.handlerNames.SCROLL:return this.callbacks.scroll.general;case this.handlerNames.SCROLL_START:return this.callbacks.scroll.start;case this.handlerNames.SCROLL_ACTIVE:return this.callbacks.scroll.active;case this.handlerNames.SCROLL_END:return this.callbacks.scroll.end;case this.handlerNames.RESIZE:return this.callbacks.resize.general;case this.handlerNames.RESIZE_START:return this.callbacks.resize.start;case this.handlerNames.RESIZE_ACTIVE:return this.callbacks.resize.active;case this.handlerNames.RESIZE_END:return this.callbacks.resize.end;case this.handlerNames.RESIZE_WIDTH_START:return this.callbacks.resize.width.start;case this.handlerNames.RESIZE_WIDTH_ACTIVE:return this.callbacks.resize.width.active;case this.handlerNames.RESIZE_WIDTH_END:return this.callbacks.resize.width.end;case this.handlerNames.RESIZE_HEIGHT_START:return this.callbacks.resize.height.start;case this.handlerNames.RESIZE_HEIGHT_ACTIVE:return this.callbacks.resize.height.active;case this.handlerNames.RESIZE_HEIGHT_END:return this.callbacks.resize.height.end;case this.handlerNames.LAYOUT:return this.callbacks.layout;case this.handlerNames.LAYOUT_GROUP:return this.callbacks.layoutGroup;case this.handlerNames.VISIBILITY:return this.callbacks.visibility;case this.handlerNames.KEYBOARD:return this.callbacks.keyboard}return this.handlerNames.KEYBOARD.test(a)?this.callbacks.keyboard:undefined}}]),a}();window.w=new WebPage;var Preload={retinaSuffix:"__2",isRetina:window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3,image:function(a,b){return this._createBatch([a],null,b)},images:function(a,b,c){return this._createBatch.apply(this,arguments)},imagesInContainer:function(a,b,c){a=$(a);var d=a.find("[data-lazy-src]"),e=[];return d.each(function(a,b){var c=$(b).data("lazy-src");"object"===(void 0===c?"undefined":_typeof(c))?"undefined"==typeof c.key&&(c.key=b):c={key:b,0:c},e.push(c)}),this._createBatch(e,b,c)},_$cacheElement:null,_createBatch:function(a,b,c){var d={images:a,totalCount:a.length,completedCount:0,callbackOne:c,callbackAll:b};return Preload._processBatch(d)},_processBatch:function(a){var b=this;return $.each(a.images,function(c,d){var e=null;if("object"===(void 0===d?"undefined":_typeof(d))?("undefined"!=typeof d.key&&(c=d.key,delete d.key),$.each(d,function(a,b){window.matchMedia("(min-width: "+parseInt(a)+"px)").matches&&(e=b)})):e=d,!e)return void a.totalCount--;!b.isRetina&&b.retinaSuffix&&(e=e.replace(b.retinaSuffix,""));var f=new Image;f.onload=function(){Preload._cacheImage(this);var b=++a.completedCount/a.totalCount*100;"function"==typeof a.callbackOne&&a.callbackOne(b,e,c),a.completedCount===a.totalCount&&"function"==typeof a.callbackAll&&a.callbackAll(b)},f.src=e}),a.totalCount>0},_cacheImage:function(a){this._$cacheElement||$("body").append(this._$cacheElement=$('<div id="preloaderCacheElement" style="height: 0; overflow: hidden;">')),this._$cacheElement.append(a)}},AnimatedSprite={createImg:function(a,b,c){var d=0;return new TimelineMax({repeat:-1,repeatDelay:c,onRepeat:function(){d=(d+1)%b,TweenMax.set(a,{yPercent:-d/b*100})}})},resetImg:function(a,b){b.stop(),TweenMax.set(a,{yPercent:0})}};!function(){var a;window.IsometricSystem={axis:{POS_X:1,NEG_X:2,POS_Y:4,NEG_Y:8,POS_Z:16,NEG_Z:32},angles:(a={},_defineProperty(a,1,Math.PI/6),_defineProperty(a,4,Math.PI/2),_defineProperty(a,16,5*Math.PI/6),a),isAxisNegative:function(a){return(170&a)>0},getOppositeAxis:function(a){return this.isAxisNegative(a)?a>>1:a<<1}}}();var IsometricMotion={get:function(a,b){return IsometricSystem.isAxisNegative(a)&&(a=IsometricSystem.getOppositeAxis(a),b=-b),{x:Helpers.distX(b,IsometricSystem.angles[a]),y:Helpers.distY(b,IsometricSystem.angles[a])}}},SvgLoader={load:function(a,b){$.ajax({url:a,dataType:"text"}).done(function(a){b(a)})}};
